(function(){var t={1993:function(t){function o(t){return Promise.resolve().then((function(){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}))}o.keys=function(){return[]},o.resolve=o,o.id=1993,t.exports=o},1875:function(t){function o(t){return Promise.resolve().then((function(){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}))}o.keys=function(){return[]},o.resolve=o,o.id=1875,t.exports=o},5093:function(t,o,e){"use strict";var i=e(9963),n=e(6252);function a(t,o,e,i,a,l){const c=(0,n.up)("ion-router-outlet"),r=(0,n.up)("ion-app");return(0,n.wg)(),(0,n.j4)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c)])),_:1})}var l=e(9830),c=(0,n.aZ)({name:"App",components:{IonApp:l.dr,IonRouterOutlet:l.jP}}),r=e(3744);const u=(0,r.Z)(c,[["render",a]]);var s=u,d=e(1089);const f=(0,n.Uk)("Notification Testing"),m=(0,n.Uk)("Notification Testing");function p(t,o,e,i,a,l){const c=(0,n.up)("ion-title"),r=(0,n.up)("ion-toolbar"),u=(0,n.up)("ion-header"),s=(0,n.up)("LocalNotificationDemo"),d=(0,n.up)("PushNotificationDemo"),p=(0,n.up)("ion-content"),h=(0,n.up)("ion-page");return(0,n.wg)(),(0,n.j4)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{translucent:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[f])),_:1})])),_:1})])),_:1}),(0,n.Wm)(p,{fullscreen:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{collapse:"condense"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{size:"large"},{default:(0,n.w5)((()=>[m])),_:1})])),_:1})])),_:1}),(0,n.Wm)(s),(0,n.Wm)(d)])),_:1})])),_:1})}e(7686),e(4506);var h=e(3577);const g={class:"ion-padding"},w=(0,n._)("h1",null,[(0,n._)("u",null,"Local Notification Component")],-1),v=(0,n._)("h2",null,"Create Notification",-1),N=(0,n.Uk)("Title: "),b=(0,n.Uk)("Body: "),y=(0,n.Uk)("Enable in Foreground: "),T=(0,n.Uk)("Add Notifications"),_=(0,n.Uk)("Remove All Notifications"),k=(0,n.Uk)("Start Notifications"),P=(0,n.Uk)("Cancel Notifications"),A=(0,n.Uk)("Cancel Notification ID:0"),W=(0,n._)("h2",null,"Notifications (Not Scheduled Yet)",-1),V=(0,n._)("h2",null,"Pending Notifications",-1);function O(t,o,e,i,a,l){const c=(0,n.up)("ion-item"),r=(0,n.up)("ion-label"),u=(0,n.up)("ion-input"),s=(0,n.up)("ion-datetime"),d=(0,n.up)("ion-toggle"),f=(0,n.up)("ion-button");return(0,n.wg)(),(0,n.iD)("div",g,[w,(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("p",null,"Notify Permission: "+(0,h.zw)(t.permissionState.display),1)])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("p",null,"Platform: "+(0,h.zw)(t.checkPlatform()),1)])),_:1}),v,(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[N])),_:1}),(0,n.Wm)(u,{name:"localTitle",placeholder:"Title",modelValue:t.localNotificationToAdd.title,"onUpdate:modelValue":o[0]||(o[0]=o=>t.localNotificationToAdd.title=o)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[b])),_:1}),(0,n.Wm)(u,{name:"localBody",placeholder:"Body",modelValue:t.localNotificationToAdd.body,"onUpdate:modelValue":o[1]||(o[1]=o=>t.localNotificationToAdd.body=o)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{name:"date",modelValue:t.localNotificationToAdd.schedule.at,"onUpdate:modelValue":o[2]||(o[2]=o=>t.localNotificationToAdd.schedule.at=o)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[y])),_:1}),(0,n.Wm)(d,{name:"foreground",modelValue:t.localNotificationToAdd.foreground,"onUpdate:modelValue":o[3]||(o[3]=o=>t.localNotificationToAdd.foreground=o),checked:!0===t.localNotificationToAdd.foreground},null,8,["modelValue","checked"])])),_:1}),(0,n.Wm)(f,{class:"d-inline",color:"primary",onClick:o[4]||(o[4]=o=>t.addNotifications({...t.localNotificationToAdd}))},{default:(0,n.w5)((()=>[T])),_:1}),(0,n.Wm)(f,{class:"d-line",color:"danger",onClick:o[5]||(o[5]=o=>t.removeAllNotifications())},{default:(0,n.w5)((()=>[_])),_:1}),(0,n.Wm)(f,{class:"d-inline",color:"primary",onClick:o[6]||(o[6]=o=>t.scheduleNotifications(t.options))},{default:(0,n.w5)((()=>[k])),_:1}),(0,n.Wm)(f,{class:"d-inline",color:"danger",onClick:o[7]||(o[7]=o=>t.cancelNotifications())},{default:(0,n.w5)((()=>[P])),_:1}),(0,n.Wm)(f,{class:"d-inline",color:"danger",onClick:o[8]||(o[8]=o=>t.cancelNotification(0))},{default:(0,n.w5)((()=>[A])),_:1}),W,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.options.notifications,(t=>((0,n.wg)(),(0,n.j4)(c,{key:t.id},{default:(0,n.w5)((()=>[(0,n.Uk)((0,h.zw)(t),1)])),_:2},1024)))),128)),V,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.pending.notifications,(t=>((0,n.wg)(),(0,n.j4)(c,{key:t.id},{default:(0,n.w5)((()=>[(0,n.Uk)((0,h.zw)(t),1)])),_:2},1024)))),128))])}var I=e(9895),U=e(3573),D=e(2262);function C(){const t=t=>{let o,e=t.getTimezoneOffset(),i=parseInt(Math.abs(e/60)),n=Math.abs(e%60);i<10&&(i="0"+i),n<10&&(n="0"+n),e<0?o="+"+i+":"+n:e>0?o="-"+i+":"+n:0==e&&(o="Z");let a,l=t.getDate(),c=t.getMonth()+1,r=t.getFullYear(),u=t.getHours(),s=t.getMinutes(),d=t.getSeconds();l=l<10?"0"+l:l,c=c<10?"0"+c:c,u=u<10?"0"+u:u,s=s<10?"0"+s:s,d=d<10?"0"+d:d,a=r+"-"+c+"-"+l+"T"+u+":"+s+":"+d;const f=a+o;return f};return{dateISOStringWithOffset:t}}function j(){const{dateISOStringWithOffset:t}=C(),o=()=>I.dV.getPlatform(),e=(t,o=!1)=>{l.Mn.create({message:t,position:"top",color:o?"danger":"primary",duration:2e3}).then((t=>t.present()))},i=(0,D.iH)(0),a=(0,D.qj)({id:i.value,title:"",body:"",schedule:{at:t(new Date((new Date).getTime()+6e4))},foreground:!0}),c=(0,D.iH)({display:""}),r=(0,D.qj)({notifications:[]}),u=(0,D.qj)({notifications:[]}),s=t=>{if(t.title&&t.body&&new Date(t.schedule.at).getTime()>(new Date).getTime()){const o={...t};o.schedule={...t.schedule},o.schedule.at=new Date(o.schedule.at),r.notifications.push(o),i.value+=1,a.id=i.value,e("Notification added!")}else e("Title, body, & date must be filled out, and the date must be at a time ahead of the present.",!0)},d=()=>{r.notifications.length?(e("All notifications removed."),r.notifications=[]):e("There are no notifications to remove.",!0)},f=async()=>{const t=await U.s.getPending();u.notifications=t.notifications},m=async t=>{await U.s.schedule(t),await f(),e("Notification scheduled!")},p=async t=>{t.notifications.length?(await U.s.schedule(t),await f(),e(`${t.notifications.length} notification${t.notifications.length>1?"s":""} scheduled!`),r.notifications=[]):e("There are no notifications to schedule.",!0)},h=async t=>{u.notifications.forEach((async o=>{o.id==t&&await U.s.cancel({notifications:[{id:t}]})})),await f()},g=async()=>{u.notifications.length?(await U.s.cancel(u),e(`${u.notifications.length} notification${u.notifications.length>1?"s":""} canceled!`),await f()):e("There are no notifications to cancel.",!0)};return(0,n.bv)((async()=>{c.value=await U.s.checkPermissions(),"prompt"!=c.value&&"prompt-with-rationale"!=c.value||(c.value=await U.s.requestPermissions()),await f(),U.s.addListener("localNotificationReceived",f),U.s.addListener("localNotifcationActionPerformed",f)})),(0,n.Ah)((async()=>{U.s.removeAllListeners()})),{checkPlatform:o,permissionState:c,options:r,localNotificationToAdd:a,pending:u,addNotifications:s,removeAllNotifications:d,scheduleNotifications:p,scheduleNotification:m,cancelNotifications:g,cancelNotification:h}}var S=(0,n.aZ)({name:"LocalNotifications",components:{IonItem:l.Ie,IonButton:l.YG,IonDatetime:l.x4,IonToggle:l.ho,IonInput:l.pK,IonLabel:l.Q$},setup(){const{checkPlatform:t,permissionState:o,options:e,localNotificationToAdd:i,pending:n,addNotifications:a,removeAllNotifications:l,scheduleNotifications:c,cancelNotifications:r,cancelNotification:u}=j();return{checkPlatform:t,permissionState:o,options:e,localNotificationToAdd:i,pending:n,addNotifications:a,removeAllNotifications:l,scheduleNotifications:c,cancelNotifications:r,cancelNotification:u}}});const L=(0,r.Z)(S,[["render",O]]);var E=L;const M={class:"ion-padding"},$=(0,n._)("h1",null,[(0,n._)("u",null,"Push Notification Component")],-1),H=(0,n._)("h2",null,"Create Notification",-1),B=(0,n.Uk)("Title: "),Z=(0,n.Uk)("Body: "),x=(0,n.Uk)("Send Push Notification");function z(t,o,e,i,a,l){const c=(0,n.up)("ion-label"),r=(0,n.up)("ion-item"),u=(0,n.up)("ion-input"),s=(0,n.up)("ion-button");return(0,n.wg)(),(0,n.iD)("div",M,[$,(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Registration Token: "+(0,h.zw)(t.registrationToken),1)])),_:1})])),_:1}),H,(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[B])),_:1}),(0,n.Wm)(u,{name:"pushTitle",placeholder:"Title",modelValue:t.pushNotificationToAdd.title,"onUpdate:modelValue":o[0]||(o[0]=o=>t.pushNotificationToAdd.title=o)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Z])),_:1}),(0,n.Wm)(u,{name:"pushBody",placeholder:"Body",modelValue:t.pushNotificationToAdd.body,"onUpdate:modelValue":o[1]||(o[1]=o=>t.pushNotificationToAdd.body=o)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(s,{onClick:o[2]||(o[2]=o=>t.sendPushNotification({...t.pushNotificationToAdd}))},{default:(0,n.w5)((()=>[x])),_:1})])}var R=e(773),q=e(9669),F=e.n(q);function Y(){const t=(t,o=!1,e=!1)=>{l.Mn.create({message:t,position:"top",color:o?"danger":e?"light":"primary",duration:2e3}).then((t=>t.present()))},o=(0,D.iH)(),e=(0,D.qj)({title:"",body:""}),i=async()=>{await R.V.addListener("registration",(t=>{o.value=t.value,console.info("Registration token: ",t.value)})),await R.V.addListener("registrationError",(t=>{console.error("Registration error: ",t.error)})),await R.V.addListener("pushNotificationReceived",(async o=>{console.log("Push notification received: ",JSON.stringify(o)),"android"==I.dV.getPlatform()&&t(`${o.title}${o.title&&o.body?" - ":""}${o.body}`,!1,!0);const e=o.id.split("").reduce(((t,o)=>t+o.charCodeAt(0)));await U.s.schedule({notifications:[{id:e,title:o.title,body:o.body,foreground:!0}]})})),await R.V.addListener("pushNotificationActionPerformed",(t=>{console.log("Push notification action performed",t.actionId,t.inputValue)}))},a=async()=>{let t=await R.V.checkPermissions();"prompt"===t.receive&&(t=await R.V.requestPermissions()),t.receive,await R.V.register()},c=async()=>{const t=await R.V.getDeliveredNotifications();console.log("delivered notifications",JSON.stringify(t))},r=t=>{const e=(0,D.iH)("");"android"==I.dV.getPlatform()?e.value="http://localhost":"ios"==I.dV.getPlatform()?e.value="capacitor://localhost":"web"==I.dV.getPlatform()&&(e.value=window.location.origin);const i="https://zen-proxy.herokuapp.com",n="https://push-notification-test-server.herokuapp.com";console.log("notificationToSend: "+JSON.stringify(t));const a=t.title,l=t.body,c={notification:{title:a,body:l}},r={registrationToken:o.value,message:c},u={headers:{"Access-Control-Allow-Origin":e.value}};F().post(`${i}/${n}/firebase/notification`,r,u).then((t=>{console.log(t.data)})).catch((t=>{console.log(t)}))};return(0,n.bv)((async()=>{if("web"!=I.dV.getPlatform())try{await i(),await c(),await a()}catch(t){console.log(t)}})),{registrationToken:o,pushNotificationToAdd:e,getDeliveredPushNotifications:c,sendPushNotification:r}}var G=(0,n.aZ)({name:"PushNotifications",components:{IonButton:l.YG,IonItem:l.Ie,IonLabel:l.Q$},setup(){const{registrationToken:t,pushNotificationToAdd:o,getDeliveredPushNotifications:e,sendPushNotification:i}=Y();return{registrationToken:t,pushNotificationToAdd:o,getDeliveredPushNotifications:e,sendPushNotification:i}}});const J=(0,r.Z)(G,[["render",z]]);var K=J,Q=(0,n.aZ)({name:"HomePage",components:{IonContent:l.W2,IonHeader:l.Gu,IonPage:l._i,IonTitle:l.wd,IonToolbar:l.sr,LocalNotificationDemo:E,PushNotificationDemo:K}});const X=(0,r.Z)(Q,[["render",p],["__scopeId","data-v-45499c3f"]]);var tt=X;const ot=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:tt}],et=(0,d.p7)({history:(0,d.PO)("/"),routes:ot});var it=et;e(8851),e(1292),e(1633),e(1045),e(6187),e(2299),e(3423),e(4687),e(9147),e(6250);const nt=(0,i.ri)(s).use(l.oX).use(it);it.isReady().then((()=>{nt.mount("#app")}))}},o={};function e(i){var n=o[i];if(void 0!==n)return n.exports;var a=o[i]={exports:{}};return t[i](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(o,i,n,a){if(!i){var l=1/0;for(s=0;s<t.length;s++){i=t[s][0],n=t[s][1],a=t[s][2];for(var c=!0,r=0;r<i.length;r++)(!1&a||l>=a)&&Object.keys(e.O).every((function(t){return e.O[t](i[r])}))?i.splice(r--,1):(c=!1,a<l&&(l=a));if(c){t.splice(s--,1);var u=n();void 0!==u&&(o=u)}}return o}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[i,n,a]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(o,i){return e.f[i](t,o),o}),[]))}}(),function(){e.u=function(t){return"js/"+t+"."+{78:"affa0d39",168:"b1a373d7",338:"3d1105b4",515:"1ba79bbb",541:"b083b016",576:"3fa684be",581:"dee0a062",753:"444b6596",775:"503fd1e6",880:"eea3a451",990:"9da4dad5"}[t]+".js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={},o="notification-testing-i5vue:";e.l=function(i,n,a,l){if(t[i])t[i].push(n);else{var c,r;if(void 0!==a)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var d=u[s];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==o+a){c=d;break}}c||(r=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,e.nc&&c.setAttribute("nonce",e.nc),c.setAttribute("data-webpack",o+a),c.src=i),t[i]=[n];var f=function(o,e){c.onerror=c.onload=null,clearTimeout(m);var n=t[i];if(delete t[i],c.parentNode&&c.parentNode.removeChild(c),n&&n.forEach((function(t){return t(e)})),o)return o(e)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),r&&document.head.appendChild(c)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={143:0};e.f.j=function(o,i){var n=e.o(t,o)?t[o]:void 0;if(0!==n)if(n)i.push(n[2]);else{var a=new Promise((function(e,i){n=t[o]=[e,i]}));i.push(n[2]=a);var l=e.p+e.u(o),c=new Error,r=function(i){if(e.o(t,o)&&(n=t[o],0!==n&&(t[o]=void 0),n)){var a=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.src;c.message="Loading chunk "+o+" failed.\n("+a+": "+l+")",c.name="ChunkLoadError",c.type=a,c.request=l,n[1](c)}};e.l(l,r,"chunk-"+o,o)}},e.O.j=function(o){return 0===t[o]};var o=function(o,i){var n,a,l=i[0],c=i[1],r=i[2],u=0;if(l.some((function(o){return 0!==t[o]}))){for(n in c)e.o(c,n)&&(e.m[n]=c[n]);if(r)var s=r(e)}for(o&&o(i);u<l.length;u++)a=l[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(s)},i=self["webpackChunknotification_testing_i5vue"]=self["webpackChunknotification_testing_i5vue"]||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(5093)}));i=e.O(i)})();
//# sourceMappingURL=app.91dbcb25.js.map