{"version":3,"file":"js/581.dee0a062.js","mappings":"4NACO,MAAMA,UAA8B,KACvCC,cACIC,SAASC,WACTC,KAAKC,QAAU,GACfD,KAAKE,uBAAyB,KAC1B,KAAM,iBAAkBC,UAAYC,aAAaC,kBAC7C,OAAO,EAEX,GAAgC,YAA5BD,aAAaE,WAGb,IACI,IAAIF,aAAa,IAErB,MAAOG,GACH,GAAc,aAAVA,EAAEC,KACF,OAAO,EAInB,OAAO,GAGfC,sBACI,MAAMT,KAAKU,cAAc,2BAE7BD,sBACI,MAAMT,KAAKU,cAAc,2BAE7BD,qBACI,MAAMT,KAAKU,cAAc,2BAE7BD,eAAeE,GACX,IAAKX,KAAKE,yBACN,MAAMF,KAAKY,YAAY,gDAE3B,IAAK,MAAMC,KAAgBF,EAAQG,cAC/Bd,KAAKe,iBAAiBF,GAE1B,MAAO,CACHC,cAAeH,EAAQG,cAAcE,KAAIH,IAAgB,CACrDI,GAAIJ,EAAaI,QAI7BR,mBACI,MAAO,CACHK,cAAed,KAAKC,SAG5BQ,4BACI,MAAMT,KAAKU,cAAc,2BAE7BD,aAAaR,GACTD,KAAKC,QAAUD,KAAKC,QAAQiB,QAAOL,IAAiBZ,EAAQa,cAAcK,MAAKC,GAAKA,EAAEH,KAAOJ,EAAaI,OAE9GR,mBACI,MAAM,QAAEY,SAAkBrB,KAAKsB,mBAC/B,MAAO,CACHC,MAAmB,YAAZF,GAGfZ,2BACI,IAAKT,KAAKE,yBACN,MAAMF,KAAKY,YAAY,gDAE3B,MAAMS,EAAUrB,KAAKwB,sCAAsCpB,aAAaC,qBACxE,MAAO,CAAEgB,QAAAA,GAEbZ,yBACI,IAAKT,KAAKE,yBACN,MAAMF,KAAKY,YAAY,gDAE3B,MAAMS,EAAUrB,KAAKwB,gCAAgCpB,aAAaE,YAClE,MAAO,CAAEe,QAAAA,GAEbG,gCAAgClB,GAC5B,OAAQA,GACJ,IAAK,UACD,MAAO,UACX,IAAK,SACD,MAAO,SACX,QACI,MAAO,UAGnBmB,cACI,IAAIC,EACJ,MAAMC,EAAW,GACXC,GAAM,IAAIC,MAAOC,UACvB,IAAK,MAAMjB,KAAgBb,KAAKC,SACU,QAAhCyB,EAAKb,EAAakB,gBAA6B,IAAPL,OAAgB,EAASA,EAAGM,KACtEnB,EAAakB,SAASC,GAAGF,WAAaF,IACtC5B,KAAKiC,kBAAkBpB,GACvBc,EAASO,KAAKrB,IAGtBb,KAAKC,QAAUD,KAAKC,QAAQiB,QAAOL,IAAiBc,EAASR,MAAKC,GAAKA,IAAMP,MAEjFE,iBAAiBF,GACb,IAAIa,EACJ,GAAqC,QAAhCA,EAAKb,EAAakB,gBAA6B,IAAPL,OAAgB,EAASA,EAAGM,GAAI,CACzE,MAAMG,EAAOtB,EAAakB,SAASC,GAAGF,WAAY,IAAID,MAAOC,UAK7D,OAJA9B,KAAKC,QAAQiC,KAAKrB,QAClBuB,YAAW,KACPpC,KAAKyB,gBACNU,GAGPnC,KAAKiC,kBAAkBpB,GAE3BoB,kBAAkBpB,GACd,MAAMwB,EAAoB,IAAIjC,aAAaS,EAAayB,MAAO,CAC3DC,KAAM1B,EAAa0B,OAIvB,OAFAF,EAAkBG,iBAAiB,QAASxC,KAAKyC,QAAQC,KAAK1C,KAAMa,IAAe,GACnFwB,EAAkBG,iBAAiB,OAAQxC,KAAK2C,OAAOD,KAAK1C,KAAMa,IAAe,GAC1EwB,EAEXI,QAAQ5B,GACJ,MAAM+B,EAAO,CACTC,SAAU,MACVhC,aAAAA,GAEJb,KAAK8C,gBAAgB,mCAAoCF,GAE7DD,OAAO9B,GACHb,KAAK8C,gBAAgB,4BAA6BjC","sources":["webpack://notification-testing-i5vue/./node_modules/@capacitor/local-notifications/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class LocalNotificationsWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.pending = [];\n        this.hasNotificationSupport = () => {\n            if (!('Notification' in window) || !Notification.requestPermission) {\n                return false;\n            }\n            if (Notification.permission !== 'granted') {\n                // don't test for `new Notification` if permission has already been granted\n                // otherwise this sends a real notification on supported browsers\n                try {\n                    new Notification('');\n                }\n                catch (e) {\n                    if (e.name == 'TypeError') {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n    }\n    async createChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async deleteChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async listChannels() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async schedule(options) {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        for (const notification of options.notifications) {\n            this.sendNotification(notification);\n        }\n        return {\n            notifications: options.notifications.map(notification => ({\n                id: notification.id,\n            })),\n        };\n    }\n    async getPending() {\n        return {\n            notifications: this.pending,\n        };\n    }\n    async registerActionTypes() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async cancel(pending) {\n        this.pending = this.pending.filter(notification => !pending.notifications.find(n => n.id === notification.id));\n    }\n    async areEnabled() {\n        const { display } = await this.checkPermissions();\n        return {\n            value: display === 'granted',\n        };\n    }\n    async requestPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(await Notification.requestPermission());\n        return { display };\n    }\n    async checkPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(Notification.permission);\n        return { display };\n    }\n    transformNotificationPermission(permission) {\n        switch (permission) {\n            case 'granted':\n                return 'granted';\n            case 'denied':\n                return 'denied';\n            default:\n                return 'prompt';\n        }\n    }\n    sendPending() {\n        var _a;\n        const toRemove = [];\n        const now = new Date().getTime();\n        for (const notification of this.pending) {\n            if (((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) &&\n                notification.schedule.at.getTime() <= now) {\n                this.buildNotification(notification);\n                toRemove.push(notification);\n            }\n        }\n        this.pending = this.pending.filter(notification => !toRemove.find(n => n === notification));\n    }\n    sendNotification(notification) {\n        var _a;\n        if ((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) {\n            const diff = notification.schedule.at.getTime() - new Date().getTime();\n            this.pending.push(notification);\n            setTimeout(() => {\n                this.sendPending();\n            }, diff);\n            return;\n        }\n        this.buildNotification(notification);\n    }\n    buildNotification(notification) {\n        const localNotification = new Notification(notification.title, {\n            body: notification.body,\n        });\n        localNotification.addEventListener('click', this.onClick.bind(this, notification), false);\n        localNotification.addEventListener('show', this.onShow.bind(this, notification), false);\n        return localNotification;\n    }\n    onClick(notification) {\n        const data = {\n            actionId: 'tap',\n            notification,\n        };\n        this.notifyListeners('localNotificationActionPerformed', data);\n    }\n    onShow(notification) {\n        this.notifyListeners('localNotificationReceived', notification);\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["LocalNotificationsWeb","constructor","super","arguments","this","pending","hasNotificationSupport","window","Notification","requestPermission","permission","e","name","async","unimplemented","options","unavailable","notification","notifications","sendNotification","map","id","filter","find","n","display","checkPermissions","value","transformNotificationPermission","sendPending","_a","toRemove","now","Date","getTime","schedule","at","buildNotification","push","diff","setTimeout","localNotification","title","body","addEventListener","onClick","bind","onShow","data","actionId","notifyListeners"],"sourceRoot":""}